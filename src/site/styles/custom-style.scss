@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=IBM+Plex+Sans+Thai:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap");

/* ============================
   1) Digital Garden variables
   Set on body (not :root)
============================ */
body{
  /* content */
  --dg-content-max-width: 920px !important;
  --dg-content-font-size: 18px !important;
  --dg-content-line-height: 1.6 !important;

  /* right sidebar */
  --dg-sidebar-max-width: 260px !important;
  --dg-sidebar-gap: 32px !important;
  --dg-sidebar-top: 0px !important;

  /* kill reserved top spacing */
  --dg-content-margin-top: 0px !important;
  --dg-content-margin-top-mobile: 0px !important;

  /* remove filetree column */
  --dg-filetree-width: 0px !important;
  --dg-filetree-min-width: 0px !important;
  --dg-filetree-gap: 0px !important;
  --dg-filetree-padding: 0px !important;

  /* fonts */
  --font-text: "Inter","IBM Plex Sans Thai",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  --font-heading: "Inter","IBM Plex Sans Thai",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  --font-monospace: "JetBrains Mono",ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;

  font-family: var(--font-text);
}

h1,h2,h3,h4,h5,h6{ font-family: var(--font-heading); }
code, pre{ font-family: var(--font-monospace); }
table, code, pre{ font-variant-numeric: tabular-nums; }

/* Paragraph rhythm */
.cm-s-obsidian p,
.markdown-preview-view p{
  margin: 0.75em 0;
}

/* ============================
   2) Centre the whole frame (content + RHS)
   Use :has(), but target the page wrapper
   Avoid targeting "header" because note title uses <header>
============================ */

/* frame knobs */
body{
  --frame-side-padding: 20px;
  --frame-top-padding: 32px;

  /* total frame width = content + gap + rhs + some breathing room */
  --layout-max: calc(
    var(--dg-content-max-width) +
    var(--dg-sidebar-gap) +
    var(--dg-sidebar-max-width) +
    (var(--frame-side-padding) * 2)
  );
}

/* This tries to grab the top-level wrapper that contains main + the RHS */
@media (min-width: 1200px){
  body > :where(div,section):has(main):has(.right-sidebar, .sidebar-right){
    max-width: var(--layout-max) !important;
    margin-left: auto !important;
    margin-right: auto !important;

    padding-top: var(--frame-top-padding) !important;
    padding-left: var(--frame-side-padding) !important;
    padding-right: var(--frame-side-padding) !important;

    box-sizing: border-box !important;
  }
}

/* If your template puts the RHS inside main (some setups do), this helps too */
@media (min-width: 1200px){
  main:has(.right-sidebar, .sidebar-right){
    max-width: var(--layout-max) !important;
    margin-left: auto !important;
    margin-right: auto !important;

    padding-left: var(--frame-side-padding) !important;
    padding-right: var(--frame-side-padding) !important;

    box-sizing: border-box !important;
  }
}

/* ============================
   3) Reading column
   Keep readable width and typography
============================ */
main,
article{
  font-size: var(--dg-content-font-size) !important;
  line-height: var(--dg-content-line-height) !important;
}

article{
  max-width: var(--dg-content-max-width) !important;
  box-sizing: border-box !important;
}

/* ============================
   4) Right sidebar width
============================ */
.right-sidebar,
.sidebar-right{
  width: var(--dg-sidebar-max-width) !important;
  max-width: var(--dg-sidebar-max-width) !important;
}

/* ============================
   5) Note title styling (THIS is your <header> snippet)
   Scope it so we style only the note header, not navbars
============================ */
.cm-s-obsidian > header > h1[data-note-icon],
header > h1[data-note-icon]{
  font-size: 2.3rem !important;
  line-height: 1.15 !important;
  font-weight: 800 !important;
  margin: 0 !important;
}

.cm-s-obsidian > header,
header:has(> h1[data-note-icon]){
  padding-bottom: 0.75rem !important;
  border-bottom: 1px solid var(--background-modifier-border, rgba(0,0,0,0.12)) !important;
}

/* optional: tighten meta block spacing */
header:has(> h1[data-note-icon]) .header-meta{
  margin-top: 0.35rem !important;
}
