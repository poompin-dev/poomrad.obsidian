<nav class="navbar" id="smart-navbar">
    <div class="navbar-inner">
        <a href="/" class="navbar-brand" style="display: flex; align-items: center; gap: 10px;">
            
            <img src="/favicon.svg" alt="" style="height: 1.2em; width: 1.2em; object-fit: contain;">

            {% if settings.dgShowInlineTitle === true %}
                {{meta.siteName}}
            {% else %}
                <span style="font-weight:800;">SFRad</span>
            {% endif %}
        </a>
        
        <div class="navbar-menu">
            {% for note in collections.gardenEntry %}
                {% if 'navbar' in note.data.tags %}
                    <a href="{{ note.url }}" class="navbar-item">{{ note.data.title or note.fileSlug }}</a>
                {% endif %}
            {% endfor %}
            {% if settings.dgEnableSearch === true %}
                <div class="navbar-search-desktop">
                    {% include "components/searchButton.njk" %}
                </div>
            {% endif %}
        </div>
    </div>
</nav>

<script>
    /* SMART SCROLL LOGIC */
    let lastScrollY = window.scrollY;
    const navbar = document.getElementById("smart-navbar");

    window.addEventListener("scroll", () => {
        const currentScrollY = window.scrollY;
        
        // 1. If scrolling DOWN and we are not at the very top: HIDE IT
        if (currentScrollY > lastScrollY && currentScrollY > 50) {
            navbar.classList.add("navbar-hidden");
        } 
        // 2. If scrolling UP: SHOW IT
        else {
            navbar.classList.remove("navbar-hidden");
        }
        
        lastScrollY = currentScrollY;
    });
</script>
